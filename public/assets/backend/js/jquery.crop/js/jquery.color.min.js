(function(l,c){var r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),d=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(r){return[r[1],r[2],r[3],r[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(r){return[2.55*r[1],2.55*r[2],2.55*r[3],r[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(r){return[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(r){return[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(r){return[r[1],r[2]/100,r[3]/100,r[4]]}}],p=l.Color=function(r,e,n,t){return new l.Color.fn.parse(r,e,n,t)},h={rgba:{cache:"_rgba",props:{red:{idx:0,type:"byte",empty:true},green:{idx:1,type:"byte",empty:true},blue:{idx:2,type:"byte",empty:true},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:true},saturation:{idx:1,type:"percent",empty:true},lightness:{idx:2,type:"percent",empty:true}}}},g={byte:{floor:true,min:0,max:255},percent:{min:0,max:1},degrees:{mod:360,floor:true}},u=h.rgba.props,f=p.support={},b,m=l.each;h.hsla.props.alpha=u.alpha;function y(r,e,n){var t=g[e.type]||{},a=e.empty||n;if(a&&r==null){return null}if(e.def&&r==null){return e.def}if(t.floor){r=~~r}else{r=parseFloat(r)}if(r==null||isNaN(r)){return e.def}if(t.mod){r=r%t.mod;return r<0?t.mod+r:r}return t.min>r?t.min:t.max<r?t.max:r}function s(o){var u=p(),s=u._rgba=[];o=o.toLowerCase();m(e,function(r,e){var n=e.re.exec(o),t=n&&e.parse(n),a,i=e.space||"rgba",f=h[i].cache;if(t){a=u[i](t);u[f]=a[f];s=u._rgba=a._rgba;return false}});if(s.length!==0){if(Math.max.apply(Math,s)===0){l.extend(s,b.transparent)}return u}if(o=b[o]){return o}}p.fn=p.prototype={constructor:p,parse:function(a,r,e,n){if(a===c){this._rgba=[null,null,null,null];return this}if(a instanceof l||a.nodeType){a=a instanceof l?a.css(r):l(a).css(r);r=c}var i=this,t=l.type(a),f=this._rgba=[],o;if(r!==c){a=[a,r,e,n];t="array"}if(t==="string"){return this.parse(s(a)||b._default)}if(t==="array"){m(u,function(r,e){f[e.idx]=y(a[e.idx],e)});return this}if(t==="object"){if(a instanceof p){m(h,function(r,e){if(a[e.cache]){i[e.cache]=a[e.cache].slice()}})}else{m(h,function(r,t){m(t.props,function(r,e){var n=t.cache;if(!i[n]&&t.to){if(a[r]==null||r==="alpha"){return}i[n]=t.to(i._rgba)}i[n][e.idx]=y(a[r],e,true)})})}return this}},is:function(r){var a=p(r),i=true,f=this;m(h,function(r,e){var n=a[e.cache],t;if(n){t=f[e.cache]||e.to&&e.to(f._rgba)||[];m(e.props,function(r,e){if(n[e.idx]!=null){i=n[e.idx]===t[e.idx];return i}})}return i});return i},_space:function(){var n=[],t=this;m(h,function(r,e){if(t[e.cache]){n.push(r)}});return n.pop()},transition:function(r,f){var o=p(r),e=o._space(),n=h[e],u=this[n.cache]||n.to(this._rgba),s=u.slice();o=o[n.cache];m(n.props,function(r,e){var n=e.idx,t=u[n],a=o[n],i=g[e.type]||{};if(a===null){return}if(t===null){s[n]=a}else{if(i.mod){if(a-t>i.mod/2){t+=i.mod}else if(t-a>i.mod/2){t-=i.mod}}s[e.idx]=y((a-t)*f+t,e)}});return this[e](s)},blend:function(r){if(this._rgba[3]===1){return this}var e=this._rgba.slice(),n=e.pop(),t=p(r)._rgba;return p(l.map(e,function(r,e){return(1-n)*t[e]+n*r}))},toRgbaString:function(){var r="rgba(",e=l.map(this._rgba,function(r,e){return r==null?e>2?1:0:r});if(e[3]===1){e.pop();r="rgb("}return r+e.join(",")+")"},toHslaString:function(){var r="hsla(",e=l.map(this.hsla(),function(r,e){if(r==null){r=e>2?1:0}if(e&&e<3){r=Math.round(r*100)+"%"}return r});if(e[3]===1){e.pop();r="hsl("}return r+e.join(",")+")"},toHexString:function(r){var e=this._rgba.slice(),n=e.pop();if(r){e.push(~~(n*255))}return"#"+l.map(e,function(r,e){r=(r||0).toString(16);return r.length===1?"0"+r:r}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}};p.fn.parse.prototype=p.fn;function x(r,e,n){n=(n+1)%1;if(n*6<1){return r+(e-r)*6*n}if(n*2<1){return e}if(n*3<2){return r+(e-r)*(2/3-n)*6}return r}h.hsla.to=function(r){if(r[0]==null||r[1]==null||r[2]==null){return[null,null,null,r[3]]}var e=r[0]/255,n=r[1]/255,t=r[2]/255,a=r[3],i=Math.max(e,n,t),f=Math.min(e,n,t),o=i-f,u=i+f,s=u*.5,l,c;if(f===i){l=0}else if(e===i){l=60*(n-t)/o+360}else if(n===i){l=60*(t-e)/o+120}else{l=60*(e-n)/o+240}if(s===0||s===1){c=s}else if(s<=.5){c=o/u}else{c=o/(2-u)}return[Math.round(l)%360,c,s,a==null?1:a]};h.hsla.from=function(r){if(r[0]==null||r[1]==null||r[2]==null){return[null,null,null,r[3]]}var e=r[0]/360,n=r[1],t=r[2],a=r[3],i=t<=.5?t*(1+n):t+n-t*n,f=2*t-i,o,u,s;return[Math.round(x(f,i,e+1/3)*255),Math.round(x(f,i,e)*255),Math.round(x(f,i,e-1/3)*255),a]};m(h,function(u,r){var n=r.props,f=r.cache,o=r.to,s=r.from;p.fn[u]=function(r){if(o&&!this[f]){this[f]=o(this._rgba)}if(r===c){return this[f].slice()}var t=l.type(r),a=t==="array"||t==="object"?r:arguments,i=this[f].slice(),e;m(n,function(r,e){var n=a[t==="object"?r:e.idx];if(n==null){n=i[e.idx]}i[e.idx]=y(n,e)});if(s){e=p(s(i));e[f]=i;return e}else{return p(i)}};m(n,function(f,o){if(p.fn[f]){return}p.fn[f]=function(r){var e=l.type(r),n=f==="alpha"?this._hsla?"hsla":"rgba":u,t=this[n](),a=t[o.idx],i;if(e==="undefined"){return a}if(e==="function"){r=r.call(this,a);e=l.type(r)}if(r==null&&o.empty){return this}if(e==="string"){i=d.exec(r);if(i){r=a+parseFloat(i[2])*(i[1]==="+"?1:-1)}}t[o.idx]=r;return this[n](t)}})});m(r,function(r,i){l.cssHooks[i]={set:function(r,e){var n,t,a;if(l.type(e)!=="string"||(n=s(e))){e=p(n||e);if(!f.rgba&&e._rgba[3]!==1){a=i==="backgroundColor"?r.parentNode:r;do{t=l.curCSS(a,"backgroundColor")}while((t===""||t==="transparent")&&(a=a.parentNode)&&a.style);e=e.blend(t&&t!=="transparent"?t:"_default")}e=e.toRgbaString()}r.style[i]=e}};l.fx.step[i]=function(r){if(!r.colorInit){r.start=p(r.elem,i);r.end=p(r.end);r.colorInit=true}l.cssHooks[i].set(r.elem,r.start.transition(r.end,r.pos))}});l(function(){var r=document.createElement("div"),e=r.style;e.cssText="background-color:rgba(1,1,1,.5)";f.rgba=e.backgroundColor.indexOf("rgba")>-1});b=l.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);