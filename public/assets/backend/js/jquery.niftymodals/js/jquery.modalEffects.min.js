(function(l){var t={overlaySelector:".md-overlay",closeSelector:".md-close",classAddAfterOpen:"md-show",modalAttr:"data-modal",perspectiveClass:"md-perspective",perspectiveSetClass:"md-setperspective",closeOnClickOverlay:true,afterOpen:function(e,t){},afterClose:function(e,t){}};var i={init:function(e){var n=this;n.o=l.extend({},t,e);var c=l(n.o.overlaySelector);if(c.length<1){c=l('<div class="'+n.o.overlaySelector.replace(/^\./,"")+'"></div>');l("#"+l(this).attr(n.o.modalAttr)).parent().append(c)}l(this).click(function(){var t=l("#"+l(this).attr(n.o.modalAttr)),e=l(n.o.closeSelector,t);var o=l(this);l(t).addClass(n.o.classAddAfterOpen);if(n.o.closeOnClickOverlay){l(c).off("click").on("click",function(){r();n.afterClose(o,t);l(c).off("click")})}if(l(o).hasClass(n.o.perspectiveSetClass)){setTimeout(function(){l(document.documentElement).addClass(n.o.perspectiveClass)},25)}i.afterOpen.call(n,o,t);setTimeout(function(){t.css({perspective:"none"})},500);function s(e){l(t).removeClass(n.o.classAddAfterOpen);t.css({perspective:"1300px"});if(e){l(document.documentElement).removeClass(n.o.perspectiveClass)}}function r(){s(l(o).hasClass(n.o.perspectiveSetClass));l(c).off("click")}l(e).on("click",function(e){e.stopPropagation();r();i.afterClose.call(n,o,t)})})},afterOpen:function(e,t){this.o.afterOpen(e,t)},afterClose:function(e,t){this.o.afterClose(e,t)}};l.fn.modalEffects=function(e){if(i[e]){return i[e].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof e==="object"||!e){return i.init.apply(this,arguments)}else{l.error("Method "+e+" does not exist on jQuery.modalEffects")}};function e(){return!!("ontouchstart"in window)?1:0}})(jQuery);(function(n){var o={overlaySelector:".md-overlay",closeSelector:".md-close",classAddAfterOpen:"md-show",modalAttr:"data-modal",perspectiveClass:"md-perspective",perspectiveSetClass:"md-setperspective",closeOnClickOverlay:true,afterOpen:function(e){},afterClose:function(e){}};n.fn.niftyModal=function(e){var s={};var t={init:function(t){return this.each(function(){s=n.extend({},o,t);var e=n(this);r.showModal(e)})},toggle:function(t){return this.each(function(){s=n.extend({},o,t);var e=n(this);if(e.hasClass(s.classAddAfterOpen)){r.removeModal(e)}else{r.showModal(e)}})},show:function(e){s=n.extend({},o,e);return this.each(function(){r.showModal(n(this))})},hide:function(e){s=n.extend({},o,e);return this.each(function(){r.removeModal(n(this))})}};var r={removeModal:function(e){e.removeClass(s.classAddAfterOpen);e.css({perspective:"1300px"});e.trigger("hide");n(s.overlaySelector).off("click")},showModal:function(t){var e=n(s.overlaySelector);if(e.length<1){e=n('<div class="'+s.overlaySelector.replace(/^\./,"")+'"></div>');t.parent().append(e)}var o=n(s.closeSelector,t);t.addClass(s.classAddAfterOpen);if(s.closeOnClickOverlay){e.off("click").on("click",function(){r.removeModal(t);s.afterClose(t);e.off("click")})}s.afterOpen(t);setTimeout(function(){t.css({perspective:"none"})},500);o.on("click",function(e){e.stopPropagation();r.removeModal(t);s.afterClose(t)});t.trigger("show")}};if(t[e]){return t[e].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof e==="object"||!e){return t.init.apply(this,arguments)}else{n.error('Method "'+e+'" does not exist in niftyModal plugin!')}}})(jQuery);$(document).ready(function(){$(".md-trigger").modalEffects()});