(function(c){var t={overlaySelector:".md-overlay",closeSelector:".md-close",classAddAfterOpen:"md-show",modalAttr:"data-modal",perspectiveClass:"md-perspective",perspectiveSetClass:"md-setperspective",closeOnClickOverlay:true,afterOpen:function(e,t){},afterClose:function(e,t){}};var i={init:function(e){var n=this;n.o=c.extend({},t,e);var l=c(n.o.overlaySelector);if(l.length<1){l=c('<div class="'+n.o.overlaySelector.replace(/^\./,"")+'"></div>');c("#"+c(this).attr(n.o.modalAttr)).parent().append(l)}c(this).click(function(){var o=c("#"+c(this).attr(n.o.modalAttr)),e=c(n.o.closeSelector,o);var t=c(this);c(o).addClass(n.o.classAddAfterOpen);if(n.o.closeOnClickOverlay){c(l).off("click").on("click",function(){r();i.afterClose.call(n,t,o);c(l).off("click")})}if(c(t).hasClass(n.o.perspectiveSetClass)){setTimeout(function(){var e=c(window).scrollTop();c(window).data("scrollTop",e);c(document.documentElement).addClass(n.o.perspectiveClass)},25)}i.afterOpen.call(n,t,o);setTimeout(function(){o.css({perspective:"none"})},500);function s(e){c(o).removeClass(n.o.classAddAfterOpen);o.css({perspective:"1300px"});if(e){c(document.documentElement).removeClass(n.o.perspectiveClass);var t=c(window).data("scrollTop");if(t)c(window).scrollTop(t)}}function r(){s(c(t).hasClass(n.o.perspectiveSetClass));c(l).off("click")}c(e).on("click",function(e){e.stopPropagation();r();i.afterClose.call(n,t,o)})})},afterOpen:function(e,t){this.o.afterOpen(e,t)},afterClose:function(e,t){this.o.afterClose(e,t)}};c.fn.modalEffects=function(e){if(i[e]){return i[e].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof e==="object"||!e){return i.init.apply(this,arguments)}else{c.error("Method "+e+" does not exist on jQuery.modalEffects")}};function e(){return!!("ontouchstart"in window)?1:0}c(document).ready(function(){c(".md-trigger").modalEffects()})})(jQuery);(function(n){var o={overlaySelector:".md-overlay",closeSelector:".md-close",classAddAfterOpen:"md-show",modalAttr:"data-modal",perspectiveClass:"md-perspective",perspective:true,closeOnClickOverlay:true,afterOpen:function(e){},afterClose:function(e){}};n.fn.niftyModal=function(e){var s={};var t={init:function(t){return this.each(function(){s=n.extend({},o,t);var e=n(this);r.showModal(e)})},toggle:function(t){return this.each(function(){s=n.extend({},o,t);var e=n(this);if(e.hasClass(s.classAddAfterOpen)){r.removeModal(e)}else{r.showModal(e)}})},show:function(e){s=n.extend({},o,e);return this.each(function(){r.showModal(n(this))})},hide:function(e){s=n.extend({},o,e);return this.each(function(){r.removeModal(n(this))})}};var r={perspectived:function(e){return s.perspective},removeModal:function(e){e.removeClass(s.classAddAfterOpen);e.css({perspective:"1300px"});e.trigger("hide");n(s.overlaySelector).off("click");if(r.perspectived(e)){n(document.documentElement).removeClass(s.perspectiveClass);var t=n(window).data("scrollTop");if(t)n(window).scrollTop(t)}},showModal:function(t){var e=n(s.overlaySelector);if(e.length<1){e=n('<div class="'+s.overlaySelector.replace(/^\./,"")+'"></div>');t.parent().append(e)}var o=n(s.closeSelector,t);t.addClass(s.classAddAfterOpen);if(s.closeOnClickOverlay){e.off("click").on("click",function(){r.removeModal(t);s.afterClose(t);e.off("click")})}if(r.perspectived(t)){setTimeout(function(){var e=n(window).scrollTop();n(window).data("scrollTop",e);n(document.documentElement).addClass(s.perspectiveClass)},25)}s.afterOpen(t);setTimeout(function(){t.css({perspective:"none"})},500);o.on("click",function(e){e.stopPropagation();r.removeModal(t);s.afterClose(t)});t.trigger("show")}};if(t[e]){return t[e].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof e==="object"||!e){return t.init.apply(this,arguments)}else{n.error('Method "'+e+'" does not exist in niftyModal plugin!')}}})(jQuery);